# 单元测试
单元测试（Unit Testing）又称为`模块测试`，检验软件设计中`最小的单位` —— `模块`。

单元测试是一种验证行为，对程序中的`每一项功能都应测试`。

## 一、单元测试的目的
发现每个程序模块内部可能存在的缺陷或错误。

## 二、单元测试的两种模式
- 测试驱动模式
	- 把测试提前到代码还没产生出来之前进行测试。不过该测试策略改变了开发习惯，如敏捷开发。
- 代码先行模式。
	- 先编代码后测试。该方式较易实施，可选择需要测试的重要代码进行测试，对开发习惯改变不大。


## 三、单元测试主要的任务
### 3.1 程序语法检查
程序语法从两个方面进行检查：

- 通过编译语言对程序进行检查。
- 通过人工检查程序的结构、处理的功能以及书写的格式。

### 3.2 程序逻辑检查
主要检查程序的`逻辑结构是否正确`、程序中所使用的`循环语句的上下项`及`循环次数`是否有问题，以及`函数或子模块`是否有`自我调用问题`。

### 3.3 模块接口测试
模块接口测试是`单元测试的第一步`，模块接口是`模块内与外`联系的关键部位。


### 3.4 局部数据结构测试
保证临时存储在模块内的数据在程序执行过程中完整、正确的基础。

#### 常见的几类错误：
- 不适合或者不相容的类型说明。
- 变量无初值。
- 变量初始化或者缺省值有错。
- 不正确的变量名或不正确的截断。
- 出现上溢、下溢或地址异常。

### 3.5 路径测试
路径测试是对模块中重要的`执行路径`进行测试.

造成错误的主要因素：

- 错误的计算
- 不正确的比较
- 不正常的控制流


### 3.6 边界条件测试

### 3.7 错误处理测试

### 3.8 代码书写规范检查



## 四、单元测试管理规范的几个方面
- 单元测试人员组织与分工。
- 制定单元测试策略指引。
- 单元测试用例的设计。
- 制定代码标准和规范。
- 代码审查制定。
- 建立单元测试的流程，制定正确、规范的单元测试流程。
- 单元测试与每日构建结合。

## 五、单元测试的流程
- 使用单元模块设计和编码、单元测试代码、测试用例三个部分。
- 进行测试检查；
- 是否通过；
- 通过，进入测试人员的单元测试；未通过，重返①。

## 六、单元测试的工具
- JUnit
- CppUnit
- Ctest
- GoogleTest

